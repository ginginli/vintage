{
    "version": 2,
    "builds": [
        { "src": "api/**/*.js", "use": "@vercel/node" },
        { "src": "public/**", "use": "@vercel/static" }
    ],
    "redirects": [
        {
            "source": "/(.*)",
            "has": [
                {
                    "type": "host",
                    "value": "vintage-laineys-projects.vercel.app"
                }
            ],
            "destination": "https://stockanalyse.site/$1",
            "permanent": true
        },
        {
            "source": "/(.*)",
            "has": [
                {
                    "type": "host",
                    "value": "vintage-git-main-laineys-projects.vercel.app"
                }
            ],
            "destination": "https://stockanalyse.site/$1",
            "permanent": true
        },
        {
            "source": "/www/(.*)",
            "destination": "https://stockanalyse.site/$1",
            "permanent": true
        }
    ],
    "rewrites": [
        { "source": "/sitemap.xml", "destination": "/public/sitemap.xml" },
        { "source": "/robots.txt", "destination": "/public/robots.txt" },
        { "source": "/api/(.*)", "destination": "/api/$1.js" },
        { "source": "/(.*)", "destination": "/public/$1" }
    ],
    "headers": [
        {
            "source": "/(.*)",
            "headers": [
                {
                    "key": "X-Robots-Tag",
                    "value": "index, follow"
                },
                {
                    "key": "Link",
                    "value": "<https://stockanalyse.site>; rel=\"canonical\""
                }
            ]
        }
    ]
}
